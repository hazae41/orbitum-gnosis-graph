specVersion: 0.0.4
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Gateway
    network: xdai
    source:
      address: "0x7222cd9d408601390ba382ebb58276185df5f57b"
      abi: Gateway
      startBlock: 24048741
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Post
        - Topic
      abis:
        - name: Gateway
          file: ./abis/Gateway.json
      eventHandlers:
        - event: Post(indexed uint256,indexed uint256,indexed address,string)
          handler: handlePost
        - event: Topic(indexed uint256,indexed uint256,indexed address,string,string,string)
          handler: handleTopic
      file: ./src/gateway.ts
  - kind: ethereum
    name: Profiles
    network: xdai
    source:
      address: "0xcEFA613288CD72783C36e3a3a9Dd0645dF292b15"
      abi: Profiles
      startBlock: 24010423
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Profile
      abis:
        - name: Profiles
          file: ./abis/Profiles.json
      eventHandlers:
        - event: Avatar(indexed address,string)
          handler: handleAvatar
        - event: Description(indexed address,string)
          handler: handleDescription
        - event: Nickname(indexed address,string)
          handler: handleNickname
      file: ./src/profiles.ts
