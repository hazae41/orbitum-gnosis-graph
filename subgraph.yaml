specVersion: 0.0.4
schema:
  file: ./schema.graphql
features:
  - fullTextSearch
dataSources:
  - kind: ethereum
    name: Gateway
    network: xdai
    source:
      address: "0xb811886d96a804204d4283479267e62bad8edaef"
      abi: Gateway
      startBlock: 24062499
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Post
        - Topic
      abis:
        - name: Gateway
          file: ./abis/Gateway.json
      eventHandlers:
        - event: Created(uint256,indexed uint256,indexed uint256,indexed address,string,string,string)
          handler: handleCreated
        - event: Replied(uint256,indexed uint256,indexed uint256,indexed address,string,string)
          handler: handleReplied
      file: ./src/gateway.ts
  - kind: ethereum
    name: Profiles
    network: xdai
    source:
      address: "0xa22b9D3462ad1F66E29C3Ac3eb9f005EDB3A5A23"
      abi: Profiles
      startBlock: 24226173
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Profile
      abis:
        - name: Profiles
          file: ./abis/Profiles.json
      eventHandlers:
        - event: AvatarChanged(indexed address,string)
          handler: handleAvatar
        - event: DescriptionChanged(indexed address,string)
          handler: handleDescription
        - event: NicknameChanged(indexed address,string)
          handler: handleNickname
      file: ./src/profiles.ts
  - kind: ethereum
    name: Forums
    network: xdai
    source:
      address: "0x811b2B0Ccf220eafA06296eFc4df47A7218c80B5"
      abi: Forums
      startBlock: 24279912
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Forum
      abis:
        - name: Forums
          file: ./abis/Forums.json
      eventHandlers:
        - event: AvatarChanged(string,string)
          handler: handleAvatar
        - event: DescriptionChanged(string,string)
          handler: handleDescription
        - event: NSFWChanged(string,bool)
          handler: handleNSFW
        - event: OwnershipChanged(string,indexed address)
          handler: handleOwnership
        - event: ModeratorPromoted(string,indexed address)
          handler: handlePromoted
        - event: ModeratorUnpromoted(string,indexed address)
          handler: handleUnpromoted
      file: ./src/forums.ts
  - kind: ethereum
    name: Topics
    network: xdai
    source:
      address: "0xCE4b156C0E75AaCE3A35451De612311D6E892c89"
      abi: Topics
      startBlock: 24291003
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Topic
        - Post
      abis:
        - name: Topics
          file: ./abis/Topics.json
      eventHandlers:
        - event: Created(indexed uint256,indexed uint256,indexed address,string,string,string)
          handler: handleCreated
        - event: Replied(indexed uint256,indexed uint256,indexed address,string)
          handler: handleReplied
        - event: Renamed(indexed uint256,string)
          handler: handleRenamed
        - event: Modified(indexed uint256,string)
          handler: handleModified
        - event: Removed(indexed uint256)
          handler: handleRemoved
        - event: NSFWChanged(indexed uint256,bool)
          handler: handleNSFWChanged
        - event: LockChanged(indexed uint256,bool)
          handler: handleLockChanged
        - event: PinChanged(indexed uint256,bool)
          handler: handlePinChanged
      file: ./src/topics.ts